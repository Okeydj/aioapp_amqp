# This file was autogenerated and will overwrite each time you run travis_pypi_setup.py
language: python
python:
  - 3.6
services:
  - docker
sudo: required

script:
  - flake8 aioapp_amqp examples tests setup.py
  - bandit -r ./aioapp_amqp ./examples setup.py
  - mypy aioapp_amqp examples setup.py --ignore-missing-imports
  - py.test -v --cov-report term --cov-report html --cov aioapp_amqp ./tests
install:
  - pip install --upgrade setuptools
  - pip install codecov
  - pip install -r requirements_dev.txt
after_success: codecov

deploy:
  provider: pypi
  user: inplat
  distributions: sdist bdist_wheel
  password:
    secure: !!binary |
      RWtFZ0QzanZFSERPTkZDQ2NMUzhaaHFsM09ZZ0FjbDc1NFp2MEpJaGxuZlErYytiQmEwRWJyL2h6
      ajhIL1FXL1NRa0tQVW9Jd3dvZ1k5VnQvR0ROM1B2bVEvTkpkNnl6bTVQd2RVVmh6N1FFVm5kL3BH
      bmVpRmpvMzQvek9OdFJNeWtxYmNxcUJsLzg4bE9IR0NEYXhrZkZXMUZ5NVkwSzFMOCtobjlSZnB5
      S21KcGNIaU05Mkx2cVY3SnBkZHo3MTk5bTlManV1d1ZyTmI3WEEzemowb2J1ZlZscE5HVnBLeHJP
      VEVMREFxZ2Z6NjlJVkJRQ2gzOC9NeTRaTUQwbzM4QUJLak1uaUlJcjhpN2V4Q1dFb0ZCbnRTaGc4
      MzI0TkI4UkR5QTZyNENlcEZTZGZ0STFCQWlVb09CTTNWS3d0STJCMi92VG5ON2pyVVpKWW1DYlRZ
      SFJDQW5ZZUFMeHJvRVhjQTF3S2NiNmJscTMzS3RwWlFQSWQ3Yi9jZW5oTHM1STNMMUhlSEgrYmht
      NlcvLzhVWDg4RjlocWFlbHhqQ2tncG9sdlNMSUszU3BCQXZSb0plcGtSdm11MjVNUmRlRDBYajFr
      NzNBWTNiYWowblNUUVovMk1oM1V5QXFGTm5YU1lsSUxQQzh3SFJRNXp0eDZEYlB2bTF6L3FTQ3hp
      OTEybHMzZHZJUldaWEVMMEg4NE9vSmszSkhBMjZpaDRxdFhvNzduY1ZpRGl0Ky81R2R5MWJIUzBB
      R0cwWTlJNXNFMnBIOEZBazN2Q09tUThmTmlkZEFtQXdpRndLbnkwVnRQdlRGK1o0YmNpZE9zZDQ0
      b0VzVXJTRW9rUm4xTG5pNnNaWEZNK05yZjY1MmxVK1N4VzZqTS85dVZ6ZHFwaE00dlcwbEt4OHM9
  true:
    tags: true
